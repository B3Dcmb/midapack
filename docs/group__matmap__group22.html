<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIDAPACK - MIcrowave Data Analysis PACKage: lower internal routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logoANR-MIDAS09_quarter.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIDAPACK - MIcrowave Data Analysis PACKage
   &#160;<span id="projectnumber">1.1b</span>
   </div>
   <div id="projectbrief">Parallel software tools for high performance CMB DA analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__matmap__group22.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">lower internal routines<div class="ingroups"><a class="el" href="group__matmap.html">Pointing module</a> &raquo; <a class="el" href="group__matmap__group2.html">internal routines</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3097d396b49c10414a79152f4ebd2902"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga3097d396b49c10414a79152f4ebd2902">m2m</a> (double *vA1, int *A1, int n1, double *vA2, int *A2, int n2)</td></tr>
<tr class="separator:ga3097d396b49c10414a79152f4ebd2902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28c05d496e6168337d8a466affc1d0ac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga28c05d496e6168337d8a466affc1d0ac">m2m_sum</a> (double *vA1, int *A1, int n1, double *vA2, int *A2, int n2)</td></tr>
<tr class="separator:ga28c05d496e6168337d8a466affc1d0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3474a80491faa3c382016443ac68f425"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga3474a80491faa3c382016443ac68f425">m2m_sum_i</a> (int *vA1, int *A1, int n1, int *vA2, int *A2, int n2)</td></tr>
<tr class="separator:ga3474a80491faa3c382016443ac68f425"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53acb71f83d76d42080a2fd8b4ad06b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga53acb71f83d76d42080a2fd8b4ad06b1">card_or</a> (int *A1, int n1, int *A2, int n2)</td></tr>
<tr class="separator:ga53acb71f83d76d42080a2fd8b4ad06b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67a8ef3c535fc47af99024fa2de0b3c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga67a8ef3c535fc47af99024fa2de0b3c5">card_and</a> (int *A1, int n1, int *A2, int n2)</td></tr>
<tr class="separator:ga67a8ef3c535fc47af99024fa2de0b3c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07e3dbbce334f3744a3eb27174780a7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga07e3dbbce334f3744a3eb27174780a7c">set_or</a> (int *A1, int n1, int *A2, int n2, int *A1orA2)</td></tr>
<tr class="separator:ga07e3dbbce334f3744a3eb27174780a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3beac6a118c373a422f4772144306add"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga3beac6a118c373a422f4772144306add">set_and</a> (int *A1, int n1, int *A2, int n2, int *A1andA2)</td></tr>
<tr class="separator:ga3beac6a118c373a422f4772144306add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe7077466aef706a7825e650a78f4e5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#gabe7077466aef706a7825e650a78f4e5e">butterfly_init</a> (int *indices, int count, int **R, int *nR, int **S, int *nS, int **com_indices, int *com_count, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:gabe7077466aef706a7825e650a78f4e5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize tables for butterfly-like communication scheme This routine set up needed tables for the butterfly communication scheme. Sending and receiving tabs should be well allocated(at least size of number of steps in butterfly scheme). Double pointer are partially allocated, the last allocation is performed inside the routine. com_indices and com_count are also allocated inside the routine, thus they are passing by reference. They represent indices which have to be communicated an their number. Algotithm is based 2 parts. The first one identify intersection between processors indices, using 3 successives butterfly communication schemes : bottom up, top down, and top down again. The second part works locally to build sets of indices to communicate.  <a href="group__matmap__group22.html#gabe7077466aef706a7825e650a78f4e5e">More...</a><br /></td></tr>
<tr class="separator:gabe7077466aef706a7825e650a78f4e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ab052e5ba3e18427574481f64916b3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga3ab052e5ba3e18427574481f64916b3a">butterfly_reduce</a> (int **R, int *nR, int nRmax, int **S, int *nS, int nSmax, double *val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga3ab052e5ba3e18427574481f64916b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme.  <a href="group__matmap__group22.html#ga3ab052e5ba3e18427574481f64916b3a">More...</a><br /></td></tr>
<tr class="separator:ga3ab052e5ba3e18427574481f64916b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2760469151322cc847123dfa097fb93a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga2760469151322cc847123dfa097fb93a">butterfly_blocking_2instr_reduce</a> (int **R, int *nR, int nRmax, int **S, int *nS, int nSmax, double *val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga2760469151322cc847123dfa097fb93a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme.  <a href="group__matmap__group22.html#ga2760469151322cc847123dfa097fb93a">More...</a><br /></td></tr>
<tr class="separator:ga2760469151322cc847123dfa097fb93a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddc1509a3b18b1d35b7a4fc411eba3a6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#gaddc1509a3b18b1d35b7a4fc411eba3a6">butterfly_blocking_1instr_reduce</a> (int **R, int *nR, int nRmax, int **S, int *nS, int nSmax, double *val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:gaddc1509a3b18b1d35b7a4fc411eba3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme.  <a href="group__matmap__group22.html#gaddc1509a3b18b1d35b7a4fc411eba3a6">More...</a><br /></td></tr>
<tr class="separator:gaddc1509a3b18b1d35b7a4fc411eba3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5198c5dcb4ff06c9b9cdd323398f1541"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga5198c5dcb4ff06c9b9cdd323398f1541">truebutterfly_reduce</a> (int **R, int *nR, int nRmax, int **S, int *nS, int nSmax, double *val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga5198c5dcb4ff06c9b9cdd323398f1541"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme.  <a href="group__matmap__group22.html#ga5198c5dcb4ff06c9b9cdd323398f1541">More...</a><br /></td></tr>
<tr class="separator:ga5198c5dcb4ff06c9b9cdd323398f1541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga130490c253962e8ce30d4e0041e1d596"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga130490c253962e8ce30d4e0041e1d596">sindex</a> (int *T, int nT, int *A, int nA)</td></tr>
<tr class="separator:ga130490c253962e8ce30d4e0041e1d596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga65cf9a1978567020172f6262de6d9c42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga65cf9a1978567020172f6262de6d9c42">omp_pindex</a> (int *T, int nT, int *A, int nA)</td></tr>
<tr class="separator:ga65cf9a1978567020172f6262de6d9c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga132957cdd06b08ad58760aab421bc3e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga132957cdd06b08ad58760aab421bc3e1">ssort</a> (int *indices, int count, int flag)</td></tr>
<tr class="separator:ga132957cdd06b08ad58760aab421bc3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61063512934de793c2040eb32c2cda3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga61063512934de793c2040eb32c2cda3d">omp_psort</a> (int *A, int nA, int flag)</td></tr>
<tr class="separator:ga61063512934de793c2040eb32c2cda3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4bcafb298be124aaa5bfed34348b1ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#gab4bcafb298be124aaa5bfed34348b1ea">ring_init</a> (int *indices, int count, int **R, int *nR, int **S, int *nS, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:gab4bcafb298be124aaa5bfed34348b1ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize tables for ring-like communication scheme.  <a href="group__matmap__group22.html#gab4bcafb298be124aaa5bfed34348b1ea">More...</a><br /></td></tr>
<tr class="separator:gab4bcafb298be124aaa5bfed34348b1ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadacbaae4e4aa8283e5fd4effbd61da30"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#gadacbaae4e4aa8283e5fd4effbd61da30">ring_reduce</a> (int **R, int *nR, int nRmax, int **S, int *nS, int nSmax, double *val, double *res_val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:gadacbaae4e4aa8283e5fd4effbd61da30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a ring-like communication scheme.  <a href="group__matmap__group22.html#gadacbaae4e4aa8283e5fd4effbd61da30">More...</a><br /></td></tr>
<tr class="separator:gadacbaae4e4aa8283e5fd4effbd61da30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7aeab779fca40cc4c4e402192f89d242"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga7aeab779fca40cc4c4e402192f89d242">alltoallv_reduce</a> (int **R, int *nR, int nRtot, int **S, int *nS, int nStot, double *val, double *res_val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga7aeab779fca40cc4c4e402192f89d242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using an MPI-Alltoallv call.  <a href="group__matmap__group22.html#ga7aeab779fca40cc4c4e402192f89d242">More...</a><br /></td></tr>
<tr class="separator:ga7aeab779fca40cc4c4e402192f89d242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa30b9825dac2a7e8bbc56d4b1837fda7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#gaa30b9825dac2a7e8bbc56d4b1837fda7">ring_nonblocking_reduce</a> (int **R, int *nR, int **S, int *nS, double *val, double *res_val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:gaa30b9825dac2a7e8bbc56d4b1837fda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a ring-like non-blocking communication scheme.  <a href="group__matmap__group22.html#gaa30b9825dac2a7e8bbc56d4b1837fda7">More...</a><br /></td></tr>
<tr class="separator:gaa30b9825dac2a7e8bbc56d4b1837fda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9afd399996bf2b2b11dc6b4cdb9dda8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#gaa9afd399996bf2b2b11dc6b4cdb9dda8">ring_noempty_reduce</a> (int **R, int *nR, int nneR, int **S, int *nS, int nneS, double *val, double *res_val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:gaa9afd399996bf2b2b11dc6b4cdb9dda8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a ring-like non-blocking no-empty communication scheme.  <a href="group__matmap__group22.html#gaa9afd399996bf2b2b11dc6b4cdb9dda8">More...</a><br /></td></tr>
<tr class="separator:gaa9afd399996bf2b2b11dc6b4cdb9dda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70fb12cfb290a86dc085d51ba13b2b41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga70fb12cfb290a86dc085d51ba13b2b41">ring_noempty_step_reduce</a> (int **R, int *nR, int nRmax, int **S, int *nS, int nSmax, double *val, double *res_val, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga70fb12cfb290a86dc085d51ba13b2b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a sparse sum reduction (or mapped reduction) using a ring-like communication scheme.  <a href="group__matmap__group22.html#ga70fb12cfb290a86dc085d51ba13b2b41">More...</a><br /></td></tr>
<tr class="separator:ga70fb12cfb290a86dc085d51ba13b2b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5136d676330c6257fddf3c614e5cedcc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group22.html#ga5136d676330c6257fddf3c614e5cedcc">truebutterfly_init</a> (int *indices, int count, int **R, int *nR, int **S, int *nS, int **com_indices, int *com_count, int steps, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga5136d676330c6257fddf3c614e5cedcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize tables for butterfly-like communication scheme (true means pair wise) This routine set up needed tables for the butterfly communication scheme. Sending and receiving tabs should be well allocated(at least size of number of steps in butterfly scheme). Double pointer are partially allocated, the last allocation is performed inside the routine. com_indices and com_count are also allocated inside the routine, thus they are passing by reference. They represent indices which have to be communicated an their number. Algotithm is based 2 parts. The first one identify intersection between processors indices, using 3 successives butterfly communication schemes : bottom up, top down, and top down again. The second part works locally to build sets of indices to communicate.  <a href="group__matmap__group22.html#ga5136d676330c6257fddf3c614e5cedcc">More...</a><br /></td></tr>
<tr class="separator:ga5136d676330c6257fddf3c614e5cedcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These are low level internal routines. These are generally not to be used by external users. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga3097d396b49c10414a79152f4ebd2902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3097d396b49c10414a79152f4ebd2902">&#9670;&nbsp;</a></span>m2m()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int m2m </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>vA1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>vA2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function m2m for "map to map" Extract values from one map (A1, vA1), and for each pixel shared with an other map (A2, vA2), assign pixel value in vA1 and to pixel value in vA2. </p><dl class="section return"><dt>Returns</dt><dd>a number of elements shared between A1 and A2 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__matmap__group22.html#ga28c05d496e6168337d8a466affc1d0ac">m2m_sum</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="alm_8c_source.html#l00093">93</a> of file <a class="el" href="alm_8c_source.html">alm.c</a>.</p>

</div>
</div>
<a id="ga28c05d496e6168337d8a466affc1d0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28c05d496e6168337d8a466affc1d0ac">&#9670;&nbsp;</a></span>m2m_sum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int m2m_sum </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>vA1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>vA2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function m2m_sum for "sum map to map" Extract values from one map (A1, vA1), and for each pixel shared with an other map (A2, vA2), sum pixel value in vA1 to pixel value in vA2. </p><dl class="section return"><dt>Returns</dt><dd>a number of elements shared between A1 and A2 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__matmap__group22.html#ga3097d396b49c10414a79152f4ebd2902">m2m</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="alm_8c_source.html#l00118">118</a> of file <a class="el" href="alm_8c_source.html">alm.c</a>.</p>

</div>
</div>
<a id="ga3474a80491faa3c382016443ac68f425"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3474a80491faa3c382016443ac68f425">&#9670;&nbsp;</a></span>m2m_sum_i()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int m2m_sum_i </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>vA1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>vA2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function m2m_sum_i for "sum map to map" (integer version) Extract values from one integer map (A1, vA1), and for each pixel shared with an other integer map (A2, vA2), sum pixel value in vA1 to pixel value in vA2. </p><dl class="section return"><dt>Returns</dt><dd>a number of elements shared between A1 and A2 </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__matmap__group22.html#ga3097d396b49c10414a79152f4ebd2902">m2m</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="alm_8c_source.html#l00143">143</a> of file <a class="el" href="alm_8c_source.html">alm.c</a>.</p>

</div>
</div>
<a id="ga53acb71f83d76d42080a2fd8b4ad06b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53acb71f83d76d42080a2fd8b4ad06b1">&#9670;&nbsp;</a></span>card_or()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int card_or </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute <img class="formulaInl" alt="$ card(A_1 \cup A_2) $" src="form_0.png"/> A1 and A2 should be two ascending ordered monotmony sets. of size n1 and n2. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n1</td><td>number of elemnets in A1 </td></tr>
    <tr><td class="paramname">A1</td><td>set of indices </td></tr>
    <tr><td class="paramname">n2</td><td>number of elemnets in A2 </td></tr>
    <tr><td class="paramname">A2</td><td>set of indices </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of the union </dd></dl>

<p class="definition">Definition at line <a class="el" href="als_8c_source.html#l00060">60</a> of file <a class="el" href="als_8c_source.html">als.c</a>.</p>

</div>
</div>
<a id="ga67a8ef3c535fc47af99024fa2de0b3c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67a8ef3c535fc47af99024fa2de0b3c5">&#9670;&nbsp;</a></span>card_and()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int card_and </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute <img class="formulaInl" alt="$ card(A_1 \cap A_2) $" src="form_1.png"/> A1 and A2 should be two ascending ordered monotony sets, of size n1 and n2. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n1</td><td>number of elemnets in A1 </td></tr>
    <tr><td class="paramname">A1</td><td>set of indices </td></tr>
    <tr><td class="paramname">n2</td><td>number of elemnets in A2 </td></tr>
    <tr><td class="paramname">A2</td><td>set of indices </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>size of the intersection </dd></dl>

<p class="definition">Definition at line <a class="el" href="als_8c_source.html#l00089">89</a> of file <a class="el" href="als_8c_source.html">als.c</a>.</p>

</div>
</div>
<a id="ga07e3dbbce334f3744a3eb27174780a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga07e3dbbce334f3744a3eb27174780a7c">&#9670;&nbsp;</a></span>set_or()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_or </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1orA2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute <img class="formulaInl" alt="$ A1 \cup A_2 $" src="form_2.png"/> A1 and A2 should be two ascending ordered sets. It requires the sizes of these two sets, n1 and n2. A1andA2 has to be previouly allocated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n1</td><td>number of elemnets in A1 </td></tr>
    <tr><td class="paramname">A1</td><td>set of indices </td></tr>
    <tr><td class="paramname">n2</td><td>number of elemnets in A2 </td></tr>
    <tr><td class="paramname">A2</td><td>set of indices </td></tr>
    <tr><td class="paramname">address</td><td>to the set A1orA2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of elements in A1orA2 </dd></dl>

<p class="definition">Definition at line <a class="el" href="als_8c_source.html#l00118">118</a> of file <a class="el" href="als_8c_source.html">als.c</a>.</p>

</div>
</div>
<a id="ga3beac6a118c373a422f4772144306add"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3beac6a118c373a422f4772144306add">&#9670;&nbsp;</a></span>set_and()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_and </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A1andA2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute <img class="formulaInl" alt="$ A_1 \cap A_2 $" src="form_3.png"/> A1 and A2 should be two monotony sets in ascending order. It requires the sizes of these two sets, n1 and n2. A1andA2 has to be previously allocated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n1</td><td>number of elemnets in A1 </td></tr>
    <tr><td class="paramname">A1</td><td>set of indices </td></tr>
    <tr><td class="paramname">n2</td><td>number of elemnets in A2 </td></tr>
    <tr><td class="paramname">A2</td><td>set of indices </td></tr>
    <tr><td class="paramname">address</td><td>to the set A1andA2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of elements in A1andA2 </dd></dl>

<p class="definition">Definition at line <a class="el" href="als_8c_source.html#l00162">162</a> of file <a class="el" href="als_8c_source.html">als.c</a>.</p>

</div>
</div>
<a id="gabe7077466aef706a7825e650a78f4e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabe7077466aef706a7825e650a78f4e5e">&#9670;&nbsp;</a></span>butterfly_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int butterfly_init </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>com_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>com_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize tables for butterfly-like communication scheme This routine set up needed tables for the butterfly communication scheme. Sending and receiving tabs should be well allocated(at least size of number of steps in butterfly scheme). Double pointer are partially allocated, the last allocation is performed inside the routine. com_indices and com_count are also allocated inside the routine, thus they are passing by reference. They represent indices which have to be communicated an their number. Algotithm is based 2 parts. The first one identify intersection between processors indices, using 3 successives butterfly communication schemes : bottom up, top down, and top down again. The second part works locally to build sets of indices to communicate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>set of indices(monotony) handle by a process. </td></tr>
    <tr><td class="paramname">count</td><td>number of elements </td></tr>
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">com_indices</td><td>set of indices(monotony) communicated by a process </td></tr>
    <tr><td class="paramname">com_count</td><td>number of elements </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="butterfly_8c_source.html#l00038">38</a> of file <a class="el" href="butterfly_8c_source.html">butterfly.c</a>.</p>

</div>
</div>
<a id="ga3ab052e5ba3e18427574481f64916b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3ab052e5ba3e18427574481f64916b3a">&#9670;&nbsp;</a></span>butterfly_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double butterfly_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRmax</td><td>maximum size of received message </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nSmax</td><td>maximum size of sent message </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="butterfly_8c_source.html#l00210">210</a> of file <a class="el" href="butterfly_8c_source.html">butterfly.c</a>.</p>

</div>
</div>
<a id="ga2760469151322cc847123dfa097fb93a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2760469151322cc847123dfa097fb93a">&#9670;&nbsp;</a></span>butterfly_blocking_2instr_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int butterfly_blocking_2instr_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRmax</td><td>maximum size of received message </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nSmax</td><td>maximum size of sent message </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="butterfly_8c_source.html#l00259">259</a> of file <a class="el" href="butterfly_8c_source.html">butterfly.c</a>.</p>

</div>
</div>
<a id="gaddc1509a3b18b1d35b7a4fc411eba3a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaddc1509a3b18b1d35b7a4fc411eba3a6">&#9670;&nbsp;</a></span>butterfly_blocking_1instr_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int butterfly_blocking_1instr_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRmax</td><td>maximum size of received message </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nSmax</td><td>maximum size of sent message </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="butterfly_8c_source.html#l00304">304</a> of file <a class="el" href="butterfly_8c_source.html">butterfly.c</a>.</p>

</div>
</div>
<a id="ga5198c5dcb4ff06c9b9cdd323398f1541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5198c5dcb4ff06c9b9cdd323398f1541">&#9670;&nbsp;</a></span>truebutterfly_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int truebutterfly_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme. </p>
<p>Perform a sparse sum reduction (or mapped reduction) using a butterfly-like communication scheme (true means pairwise)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRmax</td><td>maximum size of received message </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nSmax</td><td>maximum size of sent message </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="butterfly__extra_8c_source.html#l00430">430</a> of file <a class="el" href="butterfly__extra_8c_source.html">butterfly_extra.c</a>.</p>

</div>
</div>
<a id="ga130490c253962e8ce30d4e0041e1d596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga130490c253962e8ce30d4e0041e1d596">&#9670;&nbsp;</a></span>sindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sindex </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>T</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nA</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sequential reindexing </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">T</td><td>monotony array </td></tr>
    <tr><td class="paramname">nT</td><td>number of index </td></tr>
    <tr><td class="paramname">A</td><td>tab to reindex </td></tr>
    <tr><td class="paramname">nA</td><td>number of element to reindex </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array of indices </dd></dl>

<p class="definition">Definition at line <a class="el" href="cindex_8c_source.html#l00022">22</a> of file <a class="el" href="cindex_8c_source.html">cindex.c</a>.</p>

</div>
</div>
<a id="ga65cf9a1978567020172f6262de6d9c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga65cf9a1978567020172f6262de6d9c42">&#9670;&nbsp;</a></span>omp_pindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int omp_pindex </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>T</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nA</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Multithread (OpenMP) reindexing </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">T</td><td>monotony array </td></tr>
    <tr><td class="paramname">nT</td><td>number of index </td></tr>
    <tr><td class="paramname">A</td><td>tab to reindex </td></tr>
    <tr><td class="paramname">nA</td><td>inumber of element to reindex </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array of indices </dd></dl>

<p class="definition">Definition at line <a class="el" href="cindex_8c_source.html#l00042">42</a> of file <a class="el" href="cindex_8c_source.html">cindex.c</a>.</p>

</div>
</div>
<a id="ga132957cdd06b08ad58760aab421bc3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga132957cdd06b08ad58760aab421bc3e1">&#9670;&nbsp;</a></span>ssort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ssort </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sort and merge redundant elements of a set of indices using a specified method. The indices tab, initially an arbitrary set of integers, becomes a monotony set. Available methods :</p><ul>
<li>quick sort</li>
<li>bubble sort</li>
<li>insertion sort</li>
<li>counting sort</li>
<li>shell sort</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>tab (modified) </td></tr>
    <tr><td class="paramname">count</td><td>number of indices </td></tr>
    <tr><td class="paramname">flag</td><td>method </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of sorted elements </dd></dl>

<p class="definition">Definition at line <a class="el" href="csort_8c_source.html#l00162">162</a> of file <a class="el" href="csort_8c_source.html">csort.c</a>.</p>

</div>
</div>
<a id="ga61063512934de793c2040eb32c2cda3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61063512934de793c2040eb32c2cda3d">&#9670;&nbsp;</a></span>omp_psort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int omp_psort </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sort and merge redundant elements of a set of indices, using openMP. The indices tab, initially an arbitrary set of integers, becomes a monotony set. Algorithm is diivided in two steps :</p><ul>
<li>each thread sorts, in parallel, a subpart of the set using a specified method.</li>
<li>subsets obtained are merged successively in a binary tree manner.</li>
</ul>
<p>Available methods for the fully parallel step :</p><ul>
<li>quick sort</li>
<li>bubble sort</li>
<li>insertion sort</li>
<li>counting sort</li>
<li>shell sort</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>tab (modified) </td></tr>
    <tr><td class="paramname">count</td><td>number of elements to sort </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>flag method </dd></dl>

<p class="definition">Definition at line <a class="el" href="csort_8c_source.html#l00293">293</a> of file <a class="el" href="csort_8c_source.html">csort.c</a>.</p>

</div>
</div>
<a id="gab4bcafb298be124aaa5bfed34348b1ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab4bcafb298be124aaa5bfed34348b1ea">&#9670;&nbsp;</a></span>ring_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ring_init </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize tables for ring-like communication scheme. </p>
<p><br  />
 This routine set up needed tables for the ring communication scheme. Sending and receiving tabs should be well allocated(at least size of number of steps in ring scheme). Double pointer are partially allocated, the last allocation is performed inside the routine (only for R S are just pointer). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>set of indices(monotony) handle by a process. </td></tr>
    <tr><td class="paramname">count</td><td>number of elements </td></tr>
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">com_indices</td><td>set of indices(monotony) communicated by a process </td></tr>
    <tr><td class="paramname">com_count</td><td>number of elements </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the ring scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Ring loop and ring table are set from index 1 to size. Should be shift and be set from index 0 to size-1. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ring_8c_source.html#l00034">34</a> of file <a class="el" href="ring_8c_source.html">ring.c</a>.</p>

</div>
</div>
<a id="gadacbaae4e4aa8283e5fd4effbd61da30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadacbaae4e4aa8283e5fd4effbd61da30">&#9670;&nbsp;</a></span>ring_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ring_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>res_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a ring-like communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRmax</td><td>maximum size of received message </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nSmax</td><td>maximum size of sent message </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ring_8c_source.html#l00084">84</a> of file <a class="el" href="ring_8c_source.html">ring.c</a>.</p>

</div>
</div>
<a id="ga7aeab779fca40cc4c4e402192f89d242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7aeab779fca40cc4c4e402192f89d242">&#9670;&nbsp;</a></span>alltoallv_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alltoallv_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRtot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nStot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>res_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using an MPI-Alltoallv call. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRtot</td><td>size of the receive buffer </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nStot</td><td>size of the send buffer </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ring_8c_source.html#l00130">130</a> of file <a class="el" href="ring_8c_source.html">ring.c</a>.</p>

</div>
</div>
<a id="gaa30b9825dac2a7e8bbc56d4b1837fda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa30b9825dac2a7e8bbc56d4b1837fda7">&#9670;&nbsp;</a></span>ring_nonblocking_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ring_nonblocking_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>res_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a ring-like non-blocking communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ring_8c_source.html#l00200">200</a> of file <a class="el" href="ring_8c_source.html">ring.c</a>.</p>

</div>
</div>
<a id="gaa9afd399996bf2b2b11dc6b4cdb9dda8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9afd399996bf2b2b11dc6b4cdb9dda8">&#9670;&nbsp;</a></span>ring_noempty_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ring_noempty_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nneR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nneS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>res_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a ring-like non-blocking no-empty communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nneR</td><td>number of no-empty receiving messages </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nneS</td><td>number of no-empty sending messages </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ring_8c_source.html#l00258">258</a> of file <a class="el" href="ring_8c_source.html">ring.c</a>.</p>

</div>
</div>
<a id="ga70fb12cfb290a86dc085d51ba13b2b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70fb12cfb290a86dc085d51ba13b2b41">&#9670;&nbsp;</a></span>ring_noempty_step_reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ring_noempty_step_reduce </td>
          <td>(</td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nRmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nSmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>res_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a sparse sum reduction (or mapped reduction) using a ring-like communication scheme. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">nRmax</td><td>maximum size of received message </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">nSmax</td><td>maximum size of sent message </td></tr>
    <tr><td class="paramname">val</td><td>set of values (typically values associated to communicated indices) </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="ring_8c_source.html#l00332">332</a> of file <a class="el" href="ring_8c_source.html">ring.c</a>.</p>

</div>
</div>
<a id="ga5136d676330c6257fddf3c614e5cedcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5136d676330c6257fddf3c614e5cedcc">&#9670;&nbsp;</a></span>truebutterfly_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int truebutterfly_init </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nR</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>S</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>com_indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>com_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize tables for butterfly-like communication scheme (true means pair wise) This routine set up needed tables for the butterfly communication scheme. Sending and receiving tabs should be well allocated(at least size of number of steps in butterfly scheme). Double pointer are partially allocated, the last allocation is performed inside the routine. com_indices and com_count are also allocated inside the routine, thus they are passing by reference. They represent indices which have to be communicated an their number. Algotithm is based 2 parts. The first one identify intersection between processors indices, using 3 successives butterfly communication schemes : bottom up, top down, and top down again. The second part works locally to build sets of indices to communicate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">indices</td><td>set of indices(monotony) handle by a process. </td></tr>
    <tr><td class="paramname">count</td><td>number of elements </td></tr>
    <tr><td class="paramname">R</td><td>pointer to receiving maps </td></tr>
    <tr><td class="paramname">nR</td><td>array of number of elements in each receiving map </td></tr>
    <tr><td class="paramname">S</td><td>pointer to sending maps </td></tr>
    <tr><td class="paramname">nS</td><td>array of number of elements in each sending map </td></tr>
    <tr><td class="paramname">com_indices</td><td>set of indices(monotony) communicated by a process </td></tr>
    <tr><td class="paramname">com_count</td><td>number of elements </td></tr>
    <tr><td class="paramname">steps</td><td>number of communication exchange in the butterfly scheme </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if no error </dd></dl>

<p class="definition">Definition at line <a class="el" href="truebutterfly_8c_source.html#l00037">37</a> of file <a class="el" href="truebutterfly_8c_source.html">truebutterfly.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 5 2023 23:48:10 for MIDAPACK - MIcrowave Data Analysis PACKage by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
