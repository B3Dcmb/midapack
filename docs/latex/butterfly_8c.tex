\hypertarget{butterfly_8c}{\section{butterfly.\-c File Reference}
\label{butterfly_8c}\index{butterfly.\-c@{butterfly.\-c}}
}


Implementation of routines for butterfly-\/like communication scheme.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__matmap__group22_gabe7077466aef706a7825e650a78f4e5e}{butterfly\-\_\-init} (int $\ast$indices, int count, int $\ast$$\ast$R, int $\ast$n\-R, int $\ast$$\ast$S, int $\ast$n\-S, int $\ast$$\ast$com\-\_\-indices, int $\ast$com\-\_\-count, int steps, M\-P\-I\-\_\-\-Comm comm)
\begin{DoxyCompactList}\small\item\em Initialize tables for butterfly-\/like communication scheme This routine set up needed tables for the butterfly communication scheme. Sending and receiving tabs should be well allocated(at least size of number of steps in butterfly scheme). Double pointer are partially allocated, the last allocation is performed inside the routine. com\-\_\-indices and com\-\_\-count are also allocated inside the routine, thus they are passing by reference. They represent indices which have to be communicated an their number. Algotithm is based 2 parts. The first one identify intersection between processors indices, using 3 successives butterfly communication schemes \-: bottom up, top down, and top down again. The second part works locally to build sets of indices to communicate. \end{DoxyCompactList}\item 
int \hyperlink{group__matmap__group22_ga3ab052e5ba3e18427574481f64916b3a}{butterfly\-\_\-reduce} (int $\ast$$\ast$R, int $\ast$n\-R, int n\-Rmax, int $\ast$$\ast$S, int $\ast$n\-S, int n\-Smax, double $\ast$val, int steps, M\-P\-I\-\_\-\-Comm comm)
\begin{DoxyCompactList}\small\item\em Perform a sparse sum reduction (or mapped reduction) using a butterfly-\/like communication scheme. \end{DoxyCompactList}\item 
int \hyperlink{group__matmap__group22_ga2760469151322cc847123dfa097fb93a}{butterfly\-\_\-blocking\-\_\-2instr\-\_\-reduce} (int $\ast$$\ast$R, int $\ast$n\-R, int n\-Rmax, int $\ast$$\ast$S, int $\ast$n\-S, int n\-Smax, double $\ast$val, int steps, M\-P\-I\-\_\-\-Comm comm)
\begin{DoxyCompactList}\small\item\em Perform a sparse sum reduction (or mapped reduction) using a butterfly-\/like communication scheme. \end{DoxyCompactList}\item 
int \hyperlink{group__matmap__group22_gaddc1509a3b18b1d35b7a4fc411eba3a6}{butterfly\-\_\-blocking\-\_\-1instr\-\_\-reduce} (int $\ast$$\ast$R, int $\ast$n\-R, int n\-Rmax, int $\ast$$\ast$S, int $\ast$n\-S, int n\-Smax, double $\ast$val, int steps, M\-P\-I\-\_\-\-Comm comm)
\begin{DoxyCompactList}\small\item\em Perform a sparse sum reduction (or mapped reduction) using a butterfly-\/like communication scheme. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of routines for butterfly-\/like communication scheme. \begin{DoxyNote}{Note}
Copyright (c) 2010-\/2012 A\-P\-C C\-N\-R\-S Universit√© Paris Diderot. This program is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U Lesser General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version. This program is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U Lesser General Public License for more details. You should have received a copy of the G\-N\-U General Public License along with this program; if not, see \href{http://www.gnu.org/licenses/lgpl.html}{\tt http\-://www.\-gnu.\-org/licenses/lgpl.\-html} 

For more information about A\-N\-R M\-I\-D\-A\-S'09 project see \href{http://www.apc.univ-paris7.fr/APC_CS/Recherche/Adamis/MIDAS09/index.html}{\tt http\-://www.\-apc.\-univ-\/paris7.\-fr/\-A\-P\-C\-\_\-\-C\-S/\-Recherche/\-Adamis/\-M\-I\-D\-A\-S09/index.\-html} 

A\-C\-K\-N\-O\-W\-L\-E\-D\-G\-M\-E\-N\-T\-: This work has been supported in part by the French National Research Agency (A\-N\-R) through C\-O\-S\-I\-N\-U\-S program (project M\-I\-D\-A\-S no. A\-N\-R-\/09-\/\-C\-O\-S\-I-\/009). 
\end{DoxyNote}
\begin{DoxyAuthor}{Author}
Pierre Cargemel 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
April 2012 
\end{DoxyDate}


Definition in file \hyperlink{butterfly_8c_source}{butterfly.\-c}.

