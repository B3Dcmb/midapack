<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MIDAPACK - MIcrowave Data Analysis PACKage: distributed memory (MPI) routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logoANR-MIDAS09_quarter.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MIDAPACK - MIcrowave Data Analysis PACKage
   &#160;<span id="projectnumber">1.1b</span>
   </div>
   <div id="projectbrief">Parallel software tools for high performance CMB DA analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group12.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">distributed memory (MPI) routines<div class="ingroups"><a class="el" href="group__toeplitz.html">TOEPLITZ module</a> &raquo; <a class="el" href="group__group1.html">user interface (API)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadd9394c94ea5769dc0a2064f48dfc94c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group12.html#gadd9394c94ea5769dc0a2064f48dfc94c">mpi_stmm</a> (double **V, int n, int m, int id0, int l, double *T, int lambda, <a class="el" href="structFlag.html">Flag</a> flag_stgy, MPI_Comm comm)</td></tr>
<tr class="memdesc:gadd9394c94ea5769dc0a2064f48dfc94c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the product of a Toeplitz matrix by a general matrix using MPI. We assume that the matrix has already been scattered. (a USER routine)  <a href="group__group12.html#gadd9394c94ea5769dc0a2064f48dfc94c">More...</a><br /></td></tr>
<tr class="separator:gadd9394c94ea5769dc0a2064f48dfc94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c3bdb98f0e937e6e84c8652e101acac"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group12.html#ga7c3bdb98f0e937e6e84c8652e101acac">mpi_gstbmm</a> (double **V, int nrow, int m, int m_rowwise, <a class="el" href="structBlock.html">Block</a> *tpltzblocks, int nb_blocks_local, int nb_blocks_all, int id0p, int local_V_size, int64_t *id0gap, int *lgap, int ngap, <a class="el" href="structFlag.html">Flag</a> flag_stgy, MPI_Comm comm)</td></tr>
<tr class="memdesc:ga7c3bdb98f0e937e6e84c8652e101acac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the multiplication of a symmetric, Toeplitz block-diagonal matrix, T, by an arbitrary matrix, V, distributed over processes in the generalized column-wise way. This matrix V contains defined gaps which represents the useless data for the comutation. The gaps indexes are defined in the global time space as the generized toeplitz matrix, meaning the row dimension. Each of his diagonal blocks is a symmetric, band-diagonal Toeplitz matrix, which can be different for each block.  <a href="group__group12.html#ga7c3bdb98f0e937e6e84c8652e101acac">More...</a><br /></td></tr>
<tr class="separator:ga7c3bdb98f0e937e6e84c8652e101acac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab51a5dfa887d47b4ce627eb0e01a2e0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group12.html#gab51a5dfa887d47b4ce627eb0e01a2e0a">stbmm</a> (double **V, int nrow, int m_cw, int m_rw, <a class="el" href="structBlock.html">Block</a> *tpltzblocks, int nb_blocks, int64_t idp, int local_V_size, <a class="el" href="structFlag.html">Flag</a> flag_stgy)</td></tr>
<tr class="memdesc:gab51a5dfa887d47b4ce627eb0e01a2e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the multiplication of a symmetric, Toeplitz block-diagonal matrix, T, by an arbitrary matrix, V, distributed over processes in the generalized column-wise way.  <a href="group__group12.html#gab51a5dfa887d47b4ce627eb0e01a2e0a">More...</a><br /></td></tr>
<tr class="separator:gab51a5dfa887d47b4ce627eb0e01a2e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These are distributed-memory routines. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadd9394c94ea5769dc0a2064f48dfc94c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd9394c94ea5769dc0a2064f48dfc94c">&#9670;&nbsp;</a></span>mpi_stmm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mpi_stmm </td>
          <td>(</td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>T</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lambda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFlag.html">Flag</a>&#160;</td>
          <td class="paramname"><em>flag_stgy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the product of a Toeplitz matrix by a general matrix using MPI. We assume that the matrix has already been scattered. (a USER routine) </p>
<p>The multiplication is performed using FFT applied to circulant matrix in order to diagonalized it. The parameters are : </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td><b></b>[input] distributed data matrix (with the convention V(i,j)=V[i+j*n]); <b></b>[out] result of the product TV </td></tr>
    <tr><td class="paramname">n</td><td>number of rows of V </td></tr>
    <tr><td class="paramname">m</td><td>number of columns of V </td></tr>
    <tr><td class="paramname">id0</td><td>first index of scattered V </td></tr>
    <tr><td class="paramname">l</td><td>length of the scattered V </td></tr>
    <tr><td class="paramname">T</td><td>Toeplitz matrix. </td></tr>
    <tr><td class="paramname">lambda</td><td>Toeplitz band width. </td></tr>
    <tr><td class="paramname">flag_stgy</td><td>flag strategy for the product computation </td></tr>
    <tr><td class="paramname">comm</td><td>communicator (usually MPI_COMM_WORLD) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="toeplitz_8c_source.html#l00982">982</a> of file <a class="el" href="toeplitz_8c_source.html">toeplitz.c</a>.</p>

</div>
</div>
<a id="ga7c3bdb98f0e937e6e84c8652e101acac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c3bdb98f0e937e6e84c8652e101acac">&#9670;&nbsp;</a></span>mpi_gstbmm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mpi_gstbmm </td>
          <td>(</td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m_rowwise</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBlock.html">Block</a> *&#160;</td>
          <td class="paramname"><em>tpltzblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_blocks_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_blocks_all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id0p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>local_V_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>id0gap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lgap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ngap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFlag.html">Flag</a>&#160;</td>
          <td class="paramname"><em>flag_stgy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the multiplication of a symmetric, Toeplitz block-diagonal matrix, T, by an arbitrary matrix, V, distributed over processes in the generalized column-wise way. This matrix V contains defined gaps which represents the useless data for the comutation. The gaps indexes are defined in the global time space as the generized toeplitz matrix, meaning the row dimension. Each of his diagonal blocks is a symmetric, band-diagonal Toeplitz matrix, which can be different for each block. </p>
<p>We first rebuild the Toeplitz block matrix structure to reduce the computation cost and skip the computations of the values on the defined gaps. then, each process performs the multiplication sequentially for each of the gappy block and based on the sliding window algorithm. Prior to that MPI calls are used to exchange data between neighboring process. The parameters are : </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td><b></b>[input] distributed data matrix (with the convention V(i,j)=V[i+j*n]) ; <b></b>[out] result of the product TV </td></tr>
    <tr><td class="paramname">nrow</td><td>number of rows of the global data matrix V </td></tr>
    <tr><td class="paramname">m</td><td>number of columns for the data matrix V in the global rowwise order </td></tr>
    <tr><td class="paramname">m_rowwise</td><td>number of columns for the data matrix V in the rowwise order per processor </td></tr>
    <tr><td class="paramname">tpltzblocks</td><td>list of the toeplitz blocks struture with its own parameters (idv, n, T_block, lambda) :<ul>
<li>idv is the global row index defining for each Toeplitz block as stored in the vector T ;</li>
<li>n size of each Toeplitz block</li>
<li>T_block location of each Toeplitz matrix data composed of the non-zero entries of the first row ;</li>
<li>lambda size of each Toeplitz block data T_block. The bandwith size is then equal to lambda*2-1 </li>
</ul>
</td></tr>
    <tr><td class="paramname">nb_blocks_all</td><td>number of all Toeplitz block on the diagonal of the full Toeplitz matrix </td></tr>
    <tr><td class="paramname">nb_blocks_local</td><td>number of Toeplitz blocks as stored in T </td></tr>
    <tr><td class="paramname">idp</td><td>global index of the first element of the local part of V </td></tr>
    <tr><td class="paramname">local_V_size</td><td>a number of all elements in local V </td></tr>
    <tr><td class="paramname">id0gap</td><td>index of the first element of each defined gap </td></tr>
    <tr><td class="paramname">lgap</td><td>length of each defined gaps </td></tr>
    <tr><td class="paramname">ngap</td><td>number of defined gaps </td></tr>
    <tr><td class="paramname">flag_stgy</td><td>flag strategy for the product computation </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="toeplitz__gappy_8c_source.html#l00088">88</a> of file <a class="el" href="toeplitz__gappy_8c_source.html">toeplitz_gappy.c</a>.</p>

</div>
</div>
<a id="gab51a5dfa887d47b4ce627eb0e01a2e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab51a5dfa887d47b4ce627eb0e01a2e0a">&#9670;&nbsp;</a></span>stbmm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stbmm </td>
          <td>(</td>
          <td class="paramtype">double **&#160;</td>
          <td class="paramname"><em>V</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nrow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m_cw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m_rw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBlock.html">Block</a> *&#160;</td>
          <td class="paramname"><em>tpltzblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_blocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>idp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>local_V_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structFlag.html">Flag</a>&#160;</td>
          <td class="paramname"><em>flag_stgy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs the multiplication of a symmetric, Toeplitz block-diagonal matrix, T, by an arbitrary matrix, V, distributed over processes in the generalized column-wise way. </p>
<p>Each process performs the multiplication sequentially for each diagonal block and based on the sliding window algorithm. Prior to that MPI calls are used to exchange data between neighboring process. Each of the diagonal blocks is a symmetric, band-diagonal Toeplitz matrix, which can be different for each block. The parameters are : </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">V</td><td><b></b>[input] distributed data matrix (with the convention V(i,j)=V[i+j*n]) ; <b></b>[out] result of the product TV </td></tr>
    <tr><td class="paramname">nrow</td><td>number of rows of the global data matrix V </td></tr>
    <tr><td class="paramname">m</td><td>number of columns for the data matrix V in the global rowwise order </td></tr>
    <tr><td class="paramname">m_rowwise</td><td>number of columns for the data matrix V in the rowwise order per processor </td></tr>
    <tr><td class="paramname">tpltzblocks</td><td>list of the toeplitz blocks struture with its own parameters (idv, n, T_block, lambda) : </td></tr>
    <tr><td class="paramname">nb_blocks</td><td>number of Toeplitz blocks as stored in T </td></tr>
    <tr><td class="paramname">idp</td><td>global index of the first element of the local part of V </td></tr>
    <tr><td class="paramname">local_V_size</td><td>a number of all elements in local V </td></tr>
    <tr><td class="paramname">flag_stgy</td><td>flag strategy for the product computation </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="toeplitz__seq_8c_source.html#l00121">121</a> of file <a class="el" href="toeplitz__seq_8c_source.html">toeplitz_seq.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 5 2023 18:25:18 for MIDAPACK - MIcrowave Data Analysis PACKage by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
