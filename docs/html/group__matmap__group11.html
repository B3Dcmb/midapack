<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MIDAPACK - MIcrowave Data Analysis PACKage: utility routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logoANR-MIDAS09_quarter.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MIDAPACK - MIcrowave Data Analysis PACKage
   &#160;<span id="projectnumber">1.1b</span>
   </div>
   <div id="projectbrief">Parallel software tools for high performance CMB DA analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__matmap__group11.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">utility routines</div>  </div>
<div class="ingroups"><a class="el" href="group__matmap__group1.html">user interface (API)</a></div></div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga16fec1005b6f01bda1dd6154c26c27ed"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga16fec1005b6f01bda1dd6154c26c27ed">MatInit</a> (<a class="el" href="structMat.html">Mat</a> *A, int m, int nnz, int *indices, double *values, int flag#ifdef W_MPI, MPI_Comm comm#endif)</td></tr>
<tr class="memitem:gaaf26c7678367e6757392c03abd22a105"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#gaaf26c7678367e6757392c03abd22a105">MatSetIndices</a> (<a class="el" href="structMat.html">Mat</a> *A, int m, int nnz, int *indices)</td></tr>
<tr class="memitem:gad3d5adb742e7a82454fcd6eede21da91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#gad3d5adb742e7a82454fcd6eede21da91">MatSetValues</a> (<a class="el" href="structMat.html">Mat</a> *A, int m, int nnz, double *values)</td></tr>
<tr class="memitem:ga4e1732c63feba9e589b5037d0a25ab75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga4e1732c63feba9e589b5037d0a25ab75">MatFree</a> (<a class="el" href="structMat.html">Mat</a> *A)</td></tr>
<tr class="memitem:ga56b5e9bda4e4ad0a2c4f2f12e94d077e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga56b5e9bda4e4ad0a2c4f2f12e94d077e">MatLoad</a> (<a class="el" href="structMat.html">Mat</a> *mat, char *filename)</td></tr>
<tr class="memitem:ga792b187cf2f23e526ecd5e2c3cbb9dab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga792b187cf2f23e526ecd5e2c3cbb9dab">MatSave</a> (<a class="el" href="structMat.html">Mat</a> *mat, char *filename)</td></tr>
<tr class="memitem:gae31f7ccb10cda5c97e49f640feed1ad4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#gae31f7ccb10cda5c97e49f640feed1ad4">MatLocalShape</a> (<a class="el" href="structMat.html">Mat</a> *A, int sflag)</td></tr>
<tr class="memitem:ga61b3b348d7c039aadfc3196e6b83535a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga61b3b348d7c039aadfc3196e6b83535a">MatComShape</a> (<a class="el" href="structMat.html">Mat</a> *A, int flag, MPI_Comm comm)</td></tr>
<tr class="memitem:ga1a51d7e8153d33045482100bbd07d0a9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga1a51d7e8153d33045482100bbd07d0a9">TrMatVecProd</a> (<a class="el" href="structMat.html">Mat</a> *A, double *y, double *x, int pflag)</td></tr>
<tr class="memitem:ga8e522200e7c693e4d81ff3ce3a1e24ff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__matmap__group11.html#ga8e522200e7c693e4d81ff3ce3a1e24ff">MatInfo</a> (<a class="el" href="structMat.html">Mat</a> *mat, int verbose, char *filename)</td></tr>
<tr class="memdesc:ga8e522200e7c693e4d81ff3ce3a1e24ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print information about a matrix.  <a href="#ga8e522200e7c693e4d81ff3ce3a1e24ff"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>These are auxiliary utility routines. They may be used in both memory-shared/sequential and dsitributed contexts, though their syntax may change depending on that. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga16fec1005b6f01bda1dd6154c26c27ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MatInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int flag#ifdef&#160;</td>
          <td class="paramname"><em>W_MPI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm comm#&#160;</td>
          <td class="paramname"><em>endif</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a matrix specifying the number of local rows m, the number of non-zero elements per row nnz , indices tab, values tab, flag for communication and a communicator comm. indices and values tabs must be allocated and contain at least m*nnz elements. It represents column indices of the nonzero elements. Respectively values tab represents the non-zero values. After call MatInit, all precomputation are done and the matrix structure is ready to use. That means you can start applying matrix operation. Another way to initialize a matrix structure is to apply step by step :</p>
<ul>
<li>MatSetIndices</li>
<li>MatSetValues</li>
<li>MatLocalShape</li>
<li>MatComShape</li>
</ul>
<dl class="section warning"><dt>Warning:</dt><dd>do not modify indices tab until you will use the matrix structure. </dd>
<dd>
[MPI COMM!] with Midapack sequential version, there is no communicator argument. </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>pointer to a <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> struct </td></tr>
    <tr><td class="paramname">m</td><td>number of local rows </td></tr>
    <tr><td class="paramname">nnz</td><td>number of non-zero per row </td></tr>
    <tr><td class="paramname">indices</td><td>input tab (modified) </td></tr>
    <tr><td class="paramname">values</td><td>input tab </td></tr>
    <tr><td class="paramname">flag</td><td>communication flag </td></tr>
    <tr><td class="paramname">comm</td><td>MPI communicator</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__matmap__group11.html#ga4e1732c63feba9e589b5037d0a25ab75">MatFree</a> </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00043">43</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaaf26c7678367e6757392c03abd22a105"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatSetIndices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set column indices of the nonzero elements. indices tab must be allocated and contains at least m*nnz elements. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>pointer to a <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> struct </td></tr>
    <tr><td class="paramname">m</td><td>number of local rows </td></tr>
    <tr><td class="paramname">nnz</td><td>number of non-zero per row </td></tr>
    <tr><td class="paramname">indices</td><td>input tab </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00070">70</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad3d5adb742e7a82454fcd6eede21da91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatSetValues </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nnz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set values of the nonzero elements. values tab must be allocated and contains at least m*nnz values. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>pointer to a <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> struct </td></tr>
    <tr><td class="paramname">m</td><td>number of local rows </td></tr>
    <tr><td class="paramname">nnz</td><td>number of non-zero per row </td></tr>
    <tr><td class="paramname">values</td><td>input tab </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00085">85</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4e1732c63feba9e589b5037d0a25ab75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatFree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Free allocated tabs of a matrix structure including local indices tab and communication tabs. Do not free indices and values which user is responsible for. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>pointer to a <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>void </dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__matmap__group11.html#ga16fec1005b6f01bda1dd6154c26c27ed">MatInit</a> <a class="el" href="group__matmap__group11.html#gae31f7ccb10cda5c97e49f640feed1ad4">MatLocalShape</a> </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00317">317</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga56b5e9bda4e4ad0a2c4f2f12e94d077e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MatLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load matrix from a file. This is MatSave dual routine which loads data into matrix reading a specified file (or several specified files). Number of files should equal number of processor. File format should be ascii files (for examples look at files generated by MapMatSave routine). </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Implement to read several file formats as basic ASCII, XML, HDF5... </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">mat</td><td>pointer to the <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> </td></tr>
    <tr><td class="paramname">filename</td><td>basename of a file, actually data are loaded from several files denotes by "basename + processor number" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>error code </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00403">403</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga792b187cf2f23e526ecd5e2c3cbb9dab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MatSave </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write matrix into files This is the dual routine of MatLoad. It saves matrix data into files, and can be usefull to check that data are well stored. Obviously it performs IO, moreover with one file per processor. Therfore, just call this function in a development phase, with few data and few processors. </p>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>pointer to the <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> </td></tr>
    <tr><td class="paramname">filename</td><td>file basename, for instance passing "toto" should produce the output files named "toto_$(rank)" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>error code </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00451">451</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae31f7ccb10cda5c97e49f640feed1ad4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MatLocalShape </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute a local indices into a dense vector, lindices, and reindices indices tab according the this local dense vector. For this three steps are performed :</p>
<ul>
<li>sort and merge indices tab,</li>
<li>allocate lindices of size lcount and copy the sorted indices</li>
<li>reindex indices according the local indices</li>
</ul>
<dl class="section warning"><dt>Warning:</dt><dd>lindices is internally allocated ( to free it, use MatFree ) </dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__matmap__group11.html#ga61b3b348d7c039aadfc3196e6b83535a">MatComShape</a> <a class="el" href="group__matmap__group11.html#ga4e1732c63feba9e589b5037d0a25ab75">MatFree</a> <a class="el" href="group__matmap__group11.html#gaaf26c7678367e6757392c03abd22a105">MatSetIndices</a> </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00489">489</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga61b3b348d7c039aadfc3196e6b83535a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MatComShape </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>comm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Transform the matrix data structure, identifying columns shared by several processors </p>
<dl class="section warning"><dt>Warning:</dt><dd>[MPI ONLY!] this function does not exist in Midapack sequential version </dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__matmap__group11.html#gae31f7ccb10cda5c97e49f640feed1ad4">MatLocalShape</a> <a class="el" href="group__matmap__group11.html#ga16fec1005b6f01bda1dd6154c26c27ed">MatInit</a> <a class="el" href="group__matmap__group11.html#ga1a51d7e8153d33045482100bbd07d0a9">TrMatVecProd</a> </dd></dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00515">515</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1a51d7e8153d33045482100bbd07d0a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int TrMatVecProd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pflag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Perform a transposed matrix-vector multiplication, <img class="formulaInl" alt="$x \leftarrow A^t y$" src="form_5.png"/> using a precomputed communication scheme. Before calling this routine, the communication structure should have been set, calling MatInit or MatComShape. The routine can be divided in two steps :</p>
<ul>
<li>a local matrix vector multiplication</li>
<li>a collective-reduce. it consits in a sum reduce over all processes.</li>
</ul>
<p>The collective reduce is performed using algorithm previously defined : ring, butterfly ... </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__matmap__group12a.html#gaf757d9249d31d2839b3376ac2e3f5574">MatVecProd</a> <a class="el" href="group__matmap__group11.html#ga61b3b348d7c039aadfc3196e6b83535a">MatComShape</a> <a class="el" href="group__matmap__group12b.html#ga46ad4af50377be15a0aa50f416a53ade">TrMatVecProd_Naive</a> <a class="el" href="group__matmap__group11.html#ga16fec1005b6f01bda1dd6154c26c27ed">MatInit</a> </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>a pointer to a <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> </td></tr>
    <tr><td class="paramname">y</td><td>local input vector (distributed) </td></tr>
    <tr><td class="paramname">x</td><td>local output vector (overlapped) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00723">723</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga8e522200e7c693e4d81ff3ce3a1e24ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MatInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMat.html">Mat</a> *&#160;</td>
          <td class="paramname"><em>mat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print information about a matrix. </p>
<p><br/>
 Usefull function to check, debug or bench. It prints matrix array sizes. </p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__matmap__group11.html#ga792b187cf2f23e526ecd5e2c3cbb9dab">MatSave</a> </dd></dl>
<dl class="params"><dt>Parameters:</dt><dd>
  <table class="params">
    <tr><td class="paramname">A</td><td>pointer to the <a class="el" href="structMat.html" title="Matrix structure   A* = (A0* | A1* | ... | Ap-1* )">Mat</a> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mapmat_8c_source.html#l00758">758</a> of file <a class="el" href="mapmat_8c_source.html">mapmat.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sun Dec 2 2018 17:59:41 for MIDAPACK - MIcrowave Data Analysis PACKage by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.1.1 </li>
  </ul>
</div>
</body>
</html>
